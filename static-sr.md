| **Test Case ID** | **Test Case Description**                                    | **Test Steps**                                                                                                                                  | **Expected Result**                                                                                                                                              |
|------------------|--------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------|
| TC-001           | Verify Access to Vault from OpenShift Cluster                | 1. Confirm Vault's address and authentication method are configured properly in OpenShift.                                                     | OpenShift should be able to reach the Vault server with no connectivity issues.                                                                                  |
|                  |                                                              | 2. Test network connectivity between OpenShift nodes and the Vault server.                                                                      | Vault authentication should be successful with the provided credentials.                                                                                         |
|                  |                                                              | 3. Validate that the Vault token/role is correctly set up for the OpenShift service account.                                                      |                                                                                                                                                                 |
| TC-002           | Verify Creation of VaultSecretProviderClass                  | 1. Create a `VaultSecretProviderClass` YAML file with required parameters (Vault server URL, authentication method, and path to secrets).        | The `VaultSecretProviderClass` should be created successfully with the correct values for Vault address and secret paths.                                         |
|                  |                                                              | 2. Apply the YAML file using `oc apply -f <file>.yaml`.                                                                                         |                                                                                                                                                                 |
|                  |                                                              | 3. Verify that the VaultSecretProviderClass object is created successfully in OpenShift using `oc get vaultsecretproviderclass`.                  | The `VaultSecretProviderClass` resource is correctly created, and no errors should be encountered.                                                              |
| TC-003           | Verify VaultSecretProviderClass Configuration for Static Secrets | 1. Create a static secret in Vault under a specified path (e.g., `secret/data/my-static-secret`).                                                 | Vault should store the secret successfully and the secret value should be accessible via the path specified in the `VaultSecretProviderClass`.                    |
|                  |                                                              | 2. Verify the configuration in `VaultSecretProviderClass` points to the correct secret path and key.                                              | The secret configuration in the `VaultSecretProviderClass` should correctly match the stored secret path and key.                                               |
| TC-004           | Verify Mounting of Secrets Using Vault CSI Driver            | 1. Create a Kubernetes pod or deployment that mounts the Vault secrets using the Vault CSI driver.                                                | The pod should start successfully with the Vault secrets mounted at the specified location.                                                                     |
|                  |                                                              | 2. Ensure that the secret is mounted into the pod's filesystem at the correct path (e.g., `/mnt/secrets/`).                                       | The secret should be mounted as a file with the correct value in the expected location inside the pod.                                                           |
|                  |                                                              | 3. Validate the content of the file to ensure the secret has been retrieved properly from Vault.                                                 | The file should contain the correct secret value that was stored in Vault.                                                                                      |
| TC-005           | Verify Secret Permissions for OpenShift Service Account      | 1. Verify the Vault policies and permissions for the OpenShift service account.                                                                   | The OpenShift service account should have the correct policies to access the secret path.                                                                       |
|                  |                                                              | 2. Check if the service account can access the secret without permission errors when using the Vault CSI.                                         | The service account should have sufficient permissions to access the secret from Vault without errors.                                                          |
| TC-006           | Verify Secret Retrieval on Pod Restart                       | 1. Restart the OpenShift pod where the secret is mounted (e.g., `oc delete pod <pod-name>`).                                                       | After the pod restarts, the secret should be automatically re-mounted and available at the expected path without any manual intervention.                        |
|                  |                                                              | 2. Ensure that the secret file is re-created and contains the correct value.                                                                     | The secret value should persist and the mounted file should contain the correct value after the pod restart.                                                     |
| TC-007           | Verify Secret Update Propagation to Pods                     | 1. Update the static secret value in Vault (e.g., using `vault kv put secret/my-static-secret key=new-value`).                                      | The new secret value should be propagated to all pods that use the updated secret path.                                                                          |
|                  |                                                              | 2. Ensure the pod accessing the secret can retrieve the updated value.                                                                            | After the secret is updated, the pod should reflect the new secret value without requiring a restart.                                                           |
