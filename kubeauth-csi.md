| **Test Case ID** | **Test Case Title**                                        | **Objective**                                                        | **Steps**                                                                                                                                                                  | **Expected Result**                                                                                                                                                                      |
|------------------|------------------------------------------------------------|----------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| TC-01            | Verify Vault CSI Driver Installation                       | Ensure Vault CSI Driver is correctly installed and configured.         | 1. Install the Vault CSI driver on Kubernetes/OpenShift.<br>2. Ensure the Vault server is running and accessible.<br>3. Check the CSI driver pods for successful deployment. | Vault CSI driver should be installed successfully.<br>Pods should be running without errors. |
| TC-02            | Verify Vault CSI Secret Access                             | Test that Vault CSI driver can access secrets from Vault.             | 1. Create a secret in Vault.<br>2. Define a VaultSecretProviderClass in Kubernetes.<br>3. Mount the secret into a Pod.<br>4. Verify the secret is available in the Pod.      | Vault secret should be available inside the Pod and accessible via the mounted path. |
| TC-03            | Verify Vault Secrets Provider Class Configuration         | Ensure correct configuration of the VaultSecretsProviderClass.        | 1. Define a VaultSecretProviderClass with necessary Vault configuration.<br>2. Apply the class to the cluster.<br>3. Check for any errors in the logs of the driver.         | VaultSecretsProviderClass should be configured correctly with no errors. |
| TC-04            | Verify Vault Secret Rotation                               | Test that Vault secret rotation works as expected with CSI.           | 1. Create a Vault secret with TTL (Time-to-Live) configuration.<br>2. Mount the secret in a Pod.<br>3. Trigger the secret rotation.<br>4. Verify the updated secret is reflected in the Pod. | The secret should rotate and the updated secret should be available in the Pod. |
| TC-05            | Verify Vault Access Control via Policies                   | Test that Vault policies correctly restrict CSI driver access.        | 1. Create a Vault policy with restrictive access.<br>2. Apply the policy to the Vault role used by the CSI driver.<br>3. Verify that the CSI driver can only access the allowed secrets. | Vault policies should restrict access based on defined rules. |
| TC-06            | Verify Vault Authentication Method                        | Ensure the Vault authentication method used by the CSI driver is working correctly. | 1. Configure the Vault authentication method (e.g., AppRole, Kubernetes Auth).<br>2. Verify that the Vault CSI driver can authenticate using the configured method. | Vault CSI driver should authenticate successfully using the configured method. |
| TC-07            | Verify Vault Secret Access with Multiple Pods              | Ensure that multiple Pods can access the same Vault secret.          | 1. Mount the same Vault secret in multiple Pods.<br>2. Verify that all Pods have access to the same secret without conflicts.                                               | All Pods should have access to the same secret mounted correctly. |
| TC-08            | Verify CSI Secret Provisioning on PVC Creation            | Test that Vault secrets are provisioned when creating a PersistentVolumeClaim (PVC). | 1. Create a PVC that references a Vault secret.<br>2. Check if the Vault secret is provisioned as expected when the PVC is bound.<br>3. Verify the secret is accessible.  | The Vault secret should be provisioned and available after PVC binding. |
| TC-09            | Verify Secret Access on Pod Restart                        | Ensure that the Vault secret is accessible after Pod restarts.        | 1. Mount the Vault secret in a Pod.<br>2. Restart the Pod.<br>3. Verify that the secret is still accessible after the restart.                                             | The Vault secret should be accessible after Pod restart. |
| TC-10            | Check Vault CSI Driver Pod Logs and Health                | Verify Vault CSI driver logs for errors and its overall health.       | 1. Inspect the Vault CSI driver pod logs.<br>2. Check for any errors or warnings.<br>3. Verify that the Vault CSI driver pods are in a healthy state.                    | The driver pod should be free of errors and in a healthy state. |
| TC-11            | Verify Vault Secret Expiry Behavior                       | Test Vault secret expiry and driver behavior when secrets expire.     | 1. Create a secret with an expiration time in Vault.<br>2. Mount the secret in a Pod.<br>3. Wait for the secret to expire.<br>4. Verify that the Pod reflects the expiry behavior. | The secret should expire as per Vault's TTL and the Pod should handle the expiry correctly. |
| TC-12            | Test Vault Secret Availability during CSI Driver Restart  | Ensure that Vault secrets remain available after CSI driver restarts. | 1. Mount a Vault secret in a Pod.<br>2. Restart the Vault CSI driver.<br>3. Check if the secret remains available after the restart.                                       | The secret should remain available even after the driver restart. |
