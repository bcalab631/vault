# Vault CSI Provider vs Vault Agent Injector

| **Category**         | **Feature**                     | **Vault CSI Provider**                                                                 | **Vault Agent Injector**                                                                   |
|----------------------|----------------------------------|-----------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------|
| **Authentication**   | Method                          | Uses Kubernetes Auth with Pod Service Account                                          | Uses Kubernetes Auth with Pod Service Account via Vault Agent                              |
|                      | Flexibility                     | Tightly coupled with Kubernetes                                                        | Can support additional auth methods indirectly                                              |
| **Authorization**    | Policy Enforcement              | Vault policies tied to Pod’s ServiceAccount                                            | Vault policies tied to Vault Agent identity                                                |
|                      | Granular Control                | Yes                                                                                     | Yes                                                                                         |
|                      | Role Separation                 | Less flexible; CSI driver privileges shared                                             | Easier to scope per application pod                                                         |
| **Secret Retrieval** | Retrieval Method                | Mounted as files via CSI                                                               | Injected as files, environment variables, or templates                                      |
|                      | Format                          | Static files                                                                            | Supports Consul Template syntax                                                             |
|                      | Template Support                | Not natively supported                                                                 | Yes — full templating with Consul Template                                                  |
| **Auto Updates**     | Secret Rotation                 | Not natively supported; requires manual restart                                         | Fully supported; auto-refresh with Agent                                                    |
|                      | Dynamic Secret Support          | Limited                                                                                 | Fully supported                                                                             |
|                      | Update Mechanism                | Requires remount or restart                                                             | Live updates handled by Agent                                                               |
| **Privileges**       | Node Privileges                 | Needs privileged access to mount secrets                                               | Unprivileged sidecar container                                                              |
|                      | Vault Permissions               | Requires token with read access                                                        | Same, plus supports auto-renewal                                                            |
|                      | Kubernetes Cluster Permissions  | Needs RBAC for CSI driver                                                               | Needs RBAC for Pod ServiceAccount                                                           |
| **Resource Usage**   | Overhead                        | Lower; shared driver                                                                   | Higher; adds sidecar per pod                                                                |
|                      | Scalability                     | Efficient for pods sharing secrets                                                     | Scales well; more resource usage                                                            |
|                      | Startup Time                    | Secrets mounted before app start                                                       | Injected before start via Init or Agent                                                     |
| **Vendor Support**   | Official Support                | Yes — maintained by HashiCorp                                                          | Yes — mature and widely adopted                                                             |
|                      | Enterprise Features             | Supports namespaces and advanced auth in Enterprise                                    | Fully compatible with Vault Enterprise                                                      |
|                      | Community and Docs              | Growing, newer                                                                         | Extensive usage and documentation                                                           |
| **Use Cases**        | Best for                        | Static secrets, minimal container overhead                                              | Dynamic secrets, templated secrets, live rotation                                           |
