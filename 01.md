| **Step** | **Purpose**                                    | **Command / API Endpoint**                                                                                                                      | **Type**      | **Notes**                                             |                         |
| -------- | ---------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------- | ------------- | ----------------------------------------------------- | ----------------------- |
| 1        | Create OpenShift namespace (optional)          | `oc new-project your-namespace`                                                                                                                 | OpenShift CLI | Replace `your-namespace` with your app's namespace    |                         |
| 2        | Create Service Account for Vault auth          | `oc create sa vault-auth -n your-namespace`                                                                                                     | OpenShift CLI | Service account used by pods to authenticate to Vault |                         |
| 3        | Grant token reviewer permissions               | `oc adm policy add-cluster-role-to-user system:auth-delegator -z vault-auth -n your-namespace`                                                  | OpenShift CLI | Required so Vault can review Kubernetes tokens        |                         |
| 4        | Get service account JWT                        | \`oc get secret \$(oc get sa vault-auth -n your-namespace -o jsonpath="{.secrets\[0].name}") -n your-namespace -o jsonpath="{.data.token}"      | base64 -d\`   | OpenShift CLI                                         | Needed for Vault config |
| 5        | Get Kubernetes CA certificate                  | \`oc get secret \$(oc get sa vault-auth -n your-namespace -o jsonpath="{.secrets\[0].name}") -n your-namespace -o jsonpath="{.data\['ca.crt']}" | base64 -d\`   | OpenShift CLI                                         | Used in Vault config    |
| 6        | Get OpenShift API Server address               | `oc whoami --show-server`                                                                                                                       | OpenShift CLI | URL of the Kubernetes API                             |                         |
| 7        | Enable Kubernetes auth method                  | `POST /v1/sys/auth/kubernetes`                                                                                                                  | Vault API     | Enables the Kubernetes auth backend                   |                         |
| 8        | Create Vault policy (ACL)                      | `PUT /v1/sys/policies/acl/app-policy`                                                                                                           | Vault API     | Defines what the app can access in Vault              |                         |
| 9        | Configure Vault Kubernetes auth                | `POST /v1/auth/kubernetes/config`                                                                                                               | Vault API     | Use token, CA cert, API URL from steps 4â€“6            |                         |
| 10       | Create Vault role for app                      | `POST /v1/auth/kubernetes/role/my-app-role`                                                                                                     | Vault API     | Binds service account to a Vault policy               |                         |
| 11       | Annotate deployment for Vault Agent (optional) | `vault.hashicorp.com/*` annotations in Deployment YAML                                                                                          | Kubernetes    | Enables Vault sidecar injection for secrets           |                         |
| 12       | Deploy application                             | `oc apply -f deployment.yaml`                                                                                                                   | OpenShift CLI | Deployment should reference `vault-auth` SA           |                         |
| 13       | Test login from pod (optional)                 | `POST /v1/auth/kubernetes/login`                                                                                                                | Vault API     | Send JWT and role name to Vault to get a token        |                         |
